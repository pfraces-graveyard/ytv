(function(){var require=function(e,t){var n=require.resolve(e,t||"/"),r=require.modules[n];if(!r)throw new Error("Failed to resolve module "+e+", tried "+n);var i=require.cache[n],s=i?i.exports:r();return s};require.paths=[],require.modules={},require.cache={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(e,t){function o(e){e=n.normalize(e);if(require.modules[e])return e;for(var t=0;t<require.extensions.length;t++){var r=require.extensions[t];if(require.modules[e+r])return e+r}}function u(e){e=e.replace(/\/+$/,"");var t=n.normalize(e+"/package.json");if(require.modules[t]){var r=require.modules[t](),i=r.browserify;if(typeof i=="object"&&i.main){var s=o(n.resolve(e,i.main));if(s)return s}else if(typeof i=="string"){var s=o(n.resolve(e,i));if(s)return s}else if(r.main){var s=o(n.resolve(e,r.main));if(s)return s}}return o(e+"/index")}function a(e,t){var n=f(t);for(var r=0;r<n.length;r++){var i=n[r],s=o(i+"/"+e);if(s)return s;var a=u(i+"/"+e);if(a)return a}var s=o(e);if(s)return s}function f(e){var t;e==="/"?t=[""]:t=n.normalize(e).split("/");var r=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";r.push(s)}return r}t||(t="/");if(require._core[e])return e;var n=require.modules.path();t=n.resolve("/",t);var r=t||"/";if(e.match(/^(?:\.\.?\/|\/)/)){var i=o(n.resolve(r,e))||u(n.resolve(r,e));if(i)return i}var s=a(e,r);if(s)return s;throw new Error("Cannot find module '"+e+"'")}}(),require.alias=function(e,t){var n=require.modules.path(),r=null;try{r=require.resolve(e+"/package.json","/")}catch(i){r=require.resolve(e,"/")}var s=n.dirname(r),o=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(require.modules);for(var u=0;u<o.length;u++){var a=o[u];if(a.slice(0,s.length+1)===s+"/"){var f=a.slice(s.length);require.modules[t+f]=require.modules[s+f]}else a===s&&(require.modules[t]=require.modules[s])}},function(){var e={};require.define=function(t,n){require.modules.__browserify_process&&(e=require.modules.__browserify_process());var r=require._core[t]?"":require.modules.path().dirname(t),i=function(e){var t=require(e,r),n=require.cache[require.resolve(e,r)];return n&&n.parent===null&&(n.parent=s),t};i.resolve=function(e){return require.resolve(e,r)},i.modules=require.modules,i.define=require.define,i.cache=require.cache;var s={id:t,filename:t,exports:{},loaded:!1,parent:null};require.modules[t]=function(){return require.cache[t]=s,n.call(s.exports,i,s,s.exports,r,t,e),s.loaded=!0,s.exports}}}(),require.define("path",function(e,t,n,r,i,s){function o(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function u(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var a=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=u(o(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=u(o(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=a.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=a.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a.exec(e)[3]||""}}),require.define("__browserify_process",function(e,t,n,r,i,s){var s=t.exports={};s.nextTick=function(){var e=[],t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){if(t.source===window&&t.data==="browserify-tick"){t.stopPropagation();if(e.length>0){var n=e.shift();n()}}},!0),function(n){t?(e.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t="/",n;s.cwd=function(){return t},s.chdir=function(r){n||(n=e("path")),t=n.resolve(r,t)}}()}),require.define("vm",function(e,t,n,r,i,s){t.exports=e("vm-browserify")}),require.define("/node_modules/vm-browserify/package.json",function(e,t,n,r,i,s){t.exports={main:"index.js"}}),require.define("/node_modules/vm-browserify/index.js",function(require,module,exports,__dirname,__filename,process){var Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInNewContext=function(e){e||(e={});var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow;forEach(Object_keys(e),function(t){n[t]=e[t]}),!n.eval&&n.execScript&&n.execScript("null");var r=n.eval(this.code);return forEach(Object_keys(n),function(t){e[t]=n[t]}),document.body.removeChild(t),r},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInContext=function(e){return this.runInNewContext(e)},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t={};return typeof e=="object"&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}}),require.define("/node_modules/domready/package.json",function(e,t,n,r,i,s){t.exports={main:"./ready.js"}}),require.define("/node_modules/domready/ready.js",function(e,t,n,r,i,s){!function(e,n){typeof t!="undefined"?t.exports=n():typeof define=="function"&&typeof define.amd=="object"?define(n):this[e]=n()}("domready",function(e){function h(e){c=1;while(e=t.shift())e()}var t=[],n,r=!1,i=document,s=i.documentElement,o=s.doScroll,u="DOMContentLoaded",a="addEventListener",f="onreadystatechange",l="readyState",c=/^loade|c/.test(i[l]);return i[a]&&i[a](u,n=function(){i.removeEventListener(u,n,r),h()},r),o&&i.attachEvent(f,n=function(){/^c/.test(i[l])&&(i.detachEvent(f,n),h())}),e=o?function(n){self!=top?c?n():t.push(n):function(){try{s.doScroll("left")}catch(t){return setTimeout(function(){e(n)},50)}n()}()}:function(e){c?e():t.push(e)}})}),require.define("/node_modules/shoe/package.json",function(e,t,n,r,i,s){t.exports={main:"index.js",browserify:"browser.js"}}),require.define("/node_modules/shoe/browser.js",function(e,t,n,r,i,s){var o=e("stream"),u=e("sockjs-client");t.exports=function(e,t){/^\/\/[^\/]+\//.test(e)?e=window.location.protocol+e:/^https?:\/\//.test(e)||(e=window.location.protocol+"//"+window.location.host+(/^\//.test(e)?e:"/"+e));var n=new o;n.readable=!0,n.writable=!0;var r=!1,i=[],s=u(e);return n.sock=s,n.write=function(e){!r||i.length?i.push(e):s.send(e)},n.end=function(e){e!==undefined&&n.write(e);if(!r){n._ended=!0;return}n.writable=!1,s.close()},n.destroy=function(){n._ended=!0,n.writable=n.readable=!1,i.length=0,s.close()},s.onopen=function(){typeof t=="function"&&t(),r=!0,i.forEach(function(e){s.send(e)}),i=[],n.emit("connect"),n._ended&&n.end()},s.onmessage=function(e){n.emit("data",e.data)},s.onclose=function(){n.emit("end"),n.writable=!1,n.readable=!1},n}}),require.define("stream",function(e,t,n,r,i,s){function a(){o.EventEmitter.call(this)}var o=e("events"),u=e("util");u.inherits(a,o.EventEmitter),t.exports=a,a.Stream=a,a.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}function o(){if(s)return;s=!0,e._pipeCount--,f();if(e._pipeCount>0)return;e.end()}function u(){if(s)return;s=!0,e._pipeCount--,f();if(e._pipeCount>0)return;e.destroy()}function a(e){f();if(this.listeners("error").length===0)throw e}function f(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",o),n.removeListener("close",u),n.removeListener("error",a),e.removeListener("error",a),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("end",f),e.removeListener("close",f)}var n=this;n.on("data",r),e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(e._pipeCount=e._pipeCount||0,e._pipeCount++,n.on("end",o),n.on("close",u));var s=!1;return n.on("error",a),e.on("error",a),n.on("end",f),n.on("close",f),e.on("end",f),e.on("close",f),e.emit("pipe",n),e}}),require.define("events",function(e,t,n,r,i,s){s.EventEmitter||(s.EventEmitter=function(){});var o=n.EventEmitter=s.EventEmitter,u=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},a=10;o.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},o.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||u(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(u(t)){var n=Array.prototype.slice.call(arguments,1),r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i].apply(this,n);return!0}return!1},o.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(u(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=a,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},o.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(u(n)){var r=n.indexOf(t);if(r<0)return this;n.splice(r,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},o.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},o.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),u(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),require.define("util",function(e,t,n,r,i,s){function u(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&u(e.__proto__)}function a(e){return e instanceof RegExp||typeof e=="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function f(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&d(Date.prototype),n=e.__proto__&&d(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}function l(e){return e<10?"0"+e.toString(10):e.toString(10)}function h(){var e=new Date,t=[l(e.getHours()),l(e.getMinutes()),l(e.getSeconds())].join(":");return[e.getDate(),c[e.getMonth()],t].join(" ")}var o=e("events");n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,r,i){function l(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return o("undefined","undefined");case"string":var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o(i,"string");case"number":return o(""+e,"number");case"boolean":return o(""+e,"boolean")}if(e===null)return o("null","null");var c=p(e),h=t?d(e):c;if(typeof e=="function"&&h.length===0){if(a(e))return o(""+e,"regexp");var v=e.name?": "+e.name:"";return o("[Function"+v+"]","special")}if(f(e)&&h.length===0)return o(e.toUTCString(),"date");var m,g,y;u(e)?(g="Array",y=["[","]"]):(g="Object",y=["{","}"]);if(typeof e=="function"){var b=e.name?": "+e.name:"";m=a(e)?" "+e:" [Function"+b+"]"}else m="";f(e)&&(m=" "+e.toUTCString());if(h.length===0)return y[0]+m+y[1];if(r<0)return a(e)?o(""+e,"regexp"):o("[Object]","special");s.push(e);var w=h.map(function(t){var n,i;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?i=o("[Getter/Setter]","special"):i=o("[Getter]","special"):e.__lookupSetter__(t)&&(i=o("[Setter]","special"))),c.indexOf(t)<0&&(n="["+t+"]"),i||(s.indexOf(e[t])<0?(r===null?i=l(e[t]):i=l(e[t],r-1),i.indexOf("\n")>-1&&(u(e)?i=i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):i="\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=o("[Circular]","special"));if(typeof n=="undefined"){if(g==="Array"&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=o(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=o(n,"string"))}return n+": "+i});s.pop();var E=0,S=w.reduce(function(e,t){return E++,t.indexOf("\n")>=0&&E++,e+t.length+1},0);return S>50?w=y[0]+(m===""?"":m+"\n ")+" "+w.join(",\n  ")+" "+y[1]:w=y[0]+m+" "+w.join(", ")+" "+y[1],w}var s=[],o=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return i||(o=function(e,t){return e}),l(e,typeof r=="undefined"?2:r)};var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(e){},n.pump=null;var p=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},d=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},v=Object.create||function(e,t){var n;if(e===null)n={__proto__:null};else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=v(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}}),require.define("/node_modules/shoe/node_modules/sockjs-client/package.json",function(e,t,n,r,i,s){t.exports={main:"sockjs.js"}}),require.define("/node_modules/shoe/node_modules/sockjs-client/sockjs.js",function(require,module,exports,__dirname,__filename,process){var JSON;JSON||(JSON={}),function(){function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e){return e<10?"0"+e:e}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var SockJS=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t);return},r.prototype.removeEventListener=function(e,t){if(!(this._listeners&&e in this._listeners))return;var r=this._listeners[e],i=n.arrIndexOf(r,t);if(i!==-1){r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e];return}return},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);this["on"+t]&&this["on"+t].apply(this,n);if(this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var i=function(e,t){this.type=e;if(typeof t!="undefined")for(var n in t){if(!t.hasOwnProperty(n))continue;this[n]=t[n]}};i.prototype.toString=function(){var e=[];for(var t in this){if(!this.hasOwnProperty(t))continue;var n=this[t];typeof n=="function"&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var s=function(e){this.events=e||[]};s.prototype.emit=function(e){var t=this,r=Array.prototype.slice.call(arguments,1);!t.nuked&&t["on"+e]&&t["on"+e].apply(t,r),n.arrIndexOf(t.events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t.events)+" in "+t)},s.prototype.nuke=function(e){var t=this;t.nuked=!0;for(var n=0;n<t.events.length;n++)delete t[t.events[n]]};var o="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||o.length;var n,r=[];for(n=0;n<e;n++)r.push(o.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return e===1e3||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return e>100?t=3*e:t=e+200,t},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t){var r=e.location;if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");return t.indexOf("//")===0&&(t=r.protocol+t),t.indexOf("/")===0&&(t=r.protocol+"//"+r.host+t),t=t.replace(/[/]+$/,""),t},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var i=e.slice(0,r);return i.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return typeof e=="function"&&(t=e,e=0),setTimeout(t,e)};var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,c,h=JSON&&JSON.stringify||function(e){return a.lastIndex=0,a.test(e)&&(e=e.replace(a,function(e){return f[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return l.lastIndex=0,l.test(t)?(c||(c=p(l)),t.replace(l,function(e){return c[e]})):t};var d=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){var e={};for(var t=0;t<d.length;t++){var n=d[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},i=[];t||(t=d);for(var s=0;s<t.length;s++){var o=t[s];r[o]=e[o]}var u=function(e){var t=e.shift();r[t]?i.push(t):e.length>0&&u(e)};return n.websocket!==!1&&u(["websocket"]),r["xhr-streaming"]&&!n.null_origin?i.push("xhr-streaming"):r["xdr-streaming"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-streaming"):u(["iframe-eventsource","iframe-htmlfile"]),r["xhr-polling"]&&!n.null_origin?i.push("xhr-polling"):r["xdr-polling"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-polling"):u(["iframe-xhr-polling","jsonp-polling"]),i};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,y=function(){for(var e in m)m[e](),delete m[e]},b=function(){if(g)return;g=!0,y()};n.attachEvent("beforeunload",b),n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(y),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var i=e.createElement("iframe"),s,o,u=function(){clearTimeout(s);try{i.onload=null}catch(e){}i.onerror=null},a=function(){i&&(u(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),n.unload_del(o))},f=function(e){i&&(a(),r(e))},l=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};return i.src=t,i.style.display="none",i.style.position="absolute",i.onerror=function(){f("onerror")},i.onload=function(){clearTimeout(s),s=setTimeout(function(){f("onload timeout")},2e3)},e.body.appendChild(i),s=setTimeout(function(){f("timeout")},15e3),o=n.unload_add(a),{post:l,cleanup:a,loaded:u}},n.createHtmlfile=function(e,r){var i=new ActiveXObject("htmlfile"),s,o,a,f=function(){clearTimeout(s)},l=function(){i&&(f(),n.unload_del(o),a.parentNode.removeChild(a),a=i=null,CollectGarbage())},c=function(e){i&&(l(),r(e))},h=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};i.open(),i.write('<html><script>document.domain="'+document.domain+'";'+"</s"+"cript></html>"),i.close(),i.parentWindow[u]=t[u];var p=i.createElement("div");return i.body.appendChild(p),a=i.createElement("iframe"),p.appendChild(a),a.src=e,s=setTimeout(function(){c("timeout")},15e3),o=n.unload_add(l),{post:h,cleanup:l,loaded:f}};var w=function(){};w.prototype=new s(["chunk","finish"]),w.prototype._start=function(e,r,i,s){var o=this;try{o.xhr=new XMLHttpRequest}catch(u){}if(!o.xhr)try{o.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}if(t.ActiveXObject||t.XDomainRequest)r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xhr.open(e,r,!0)}catch(a){o.emit("finish",0,""),o._cleanup();return}if(!s||!s.no_credentials)o.xhr.withCredentials="true";if(s&&s.headers)for(var f in s.headers)o.xhr.setRequestHeader(f,s.headers[f]);o.xhr.onreadystatechange=function(){if(o.xhr){var e=o.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}n&&n.length>0&&o.emit("chunk",t,n);break;case 4:o.emit("finish",e.status,e.responseText),o._cleanup(!1)}}},o.xhr.send(i)},w.prototype._cleanup=function(e){var t=this;if(!t.xhr)return;n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){};if(e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var E=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};E.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var x=n.XDRObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r)})};x.prototype=new s(["chunk","finish"]),x.prototype._start=function(e,t,r){var i=this,s=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);var o=s.ontimeout=s.onerror=function(){i.emit("finish",0,""),i._cleanup(!1)};s.onprogress=function(){i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},i.xdr=s,i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xdr.open(e,t),i.xdr.send(r)}catch(u){o()}},x.prototype._cleanup=function(e){var t=this;if(!t.xdr)return;n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null;if(e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null},x.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var T=function(e,t,r){if(this===window)return new T(e,t,r);var i=this,s;i._options={devel:!1,debug:!1,protocols_whitelist:[],info:undefined,rtt:undefined},r&&n.objectExtend(i._options,r),i._base_url=n.amendUrl(e),i._server=i._options.server||n.random_number_string(1e3),i._options.protocols_whitelist&&i._options.protocols_whitelist.length?s=i._options.protocols_whitelist:(typeof t=="string"&&t.length>0?s=[t]:n.isArray(t)?s=t:s=null,s&&i._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),i._protocols=[],i.protocol=null,i.readyState=T.CONNECTING,i._ir=W(i._base_url),i._ir.onfinish=function(e,t){i._ir=null,e?(i._options.info&&(e=n.objectExtend(e,i._options.info)),i._options.rtt&&(t=i._options.rtt),i._applyInfo(e,t,s),i._didClose()):i._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.1.7.ga67f.dirty",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new i("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var s=this;if(s.readyState!==T.CONNECTING&&s.readyState!==T.OPEN&&s.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");s._ir&&(s._ir.nuke(),s._ir=null),s._transport&&(s._transport.doCleanup(),s._transport=null);var o=new i("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&s.readyState===T.CONNECTING&&!r){if(s._try_next_protocol(o))return;o=new i("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:o})}s.readyState=T.CLOSED,n.delay(function(){s.dispatchEvent(o)})},T.prototype._didMessage=
function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":var r=JSON.parse(e.slice(1)||"[]");for(var i=0;i<r.length;i++)t._dispatchMessage(r[i]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);for(;;){var i=r.protocol=r._protocols.shift();if(!i)return!1;if(T[i]&&T[i].need_body===!0&&(!e.body||typeof e.readyState!="undefined"&&e.readyState!=="complete"))return r._protocols.unshift(i),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(!!T[i]&&!!T[i].enabled(r._options)){var s=T[i].roundTrips||1,o=(r._options.rto||0)*s||5e3;r._transport_tref=n.delay(o,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var u=n.random_string(8),a=r._base_url+"/"+r._server+"/"+u;return r._debug("Opening transport:",i," url:"+a," RTO:"+r._options.rto),r._transport=new T[i](r,a,r._base_url),!0}r._debug("Skipping transport:",i)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,i){var s=this;s._options.info=t,s._options.rtt=r,s._options.rto=n.countRTO(r),s._options.info.null_origin=!e.domain;var o=n.probeProtocols();s._protocols=n.detectProtocols(o,i,t)};var N=T.websocket=function(e,r){var i=this,s=r+"/websocket";s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),i.ri=e,i.url=s;var o=t.WebSocket||t.MozWebSocket;i.ws=new o(i.url),i.ws.onmessage=function(e){i.ri._didMessage(e.data)},i.unload_ref=n.unload_add(function(){i.ws.close()}),i.ws.onclose=function(){i.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};N.prototype.doSend=function(e){this.ws.send("["+e+"]")},N.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},N.enabled=function(){return!!t.WebSocket||!!t.MozWebSocket},N.roundTrips=2;var C=function(){};C.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},C.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},C.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},C.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(){e.send_stop=null,e.send_schedule_wait()}),e.send_buffer=[]}},C.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var k=function(t,r,i){var s=this;if(!("_send_form"in s)){var o=s._send_form=e.createElement("form"),u=s._send_area=e.createElement("textarea");u.name="d",o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",o.appendChild(u),e.body.appendChild(o)}var o=s._send_form,u=s._send_area,a="a"+n.random_string(8);o.target=a,o.action=t+"/jsonp_send?i="+a;var f;try{f=e.createElement('<iframe name="'+a+'">')}catch(l){f=e.createElement("iframe"),f.name=a}f.id=a,o.appendChild(f),f.style.display="none";try{u.value=r}catch(c){n.log("Your browser is seriously broken. Go home! "+c.message)}o.submit();var h=function(e){if(!f.onerror)return;f.onreadystatechange=f.onerror=f.onload=null,n.delay(500,function(){f.parentNode.removeChild(f),f=null}),u.value="",i()};return f.onerror=f.onload=h,f.onreadystatechange=function(e){f.readyState=="complete"&&h()},h},L=function(e){return function(t,n,r){var i=new e("POST",t+"/xhr_send",n);return i.onfinish=function(e,t){r(e)},function(e){r(0,e)}}},A=function(t,r){var i,s=e.createElement("script"),o,u=function(e){o&&(o.parentNode.removeChild(o),o=null),s&&(clearTimeout(i),s.parentNode.removeChild(s),s.onreadystatechange=s.onerror=s.onload=s.onclick=null,s=null,r(e),r=null)},a=!1,f=null;s.id="a"+n.random_string(8),s.src=t,s.type="text/javascript",s.charset="UTF-8",s.onerror=function(e){f||(f=setTimeout(function(){a||u(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},s.onload=function(e){u(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(e){if(/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){a=!0;try{s.onclick()}catch(t){}}s&&u(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if(typeof s.async=="undefined"&&e.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{s.htmlFor=s.id,s.event="onclick"}catch(l){}s.async=!0}else o=e.createElement("script"),o.text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=o.async=!1;typeof s.async!="undefined"&&(s.async=!0),i=setTimeout(function(){u(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var c=e.getElementsByTagName("head")[0];return c.insertBefore(s,c.firstChild),o&&c.insertBefore(o,c.firstChild),u},O=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(k),r._schedule_recv()};O.prototype=new C,O.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=M(e.trans_url+"/jsonp",A,t)},O.enabled=function(){return!0},O.need_body=!0,O.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var M=function(e,r,i){var s="a"+n.random_string(6),o=e+"?c="+escape(u+"."+s),a=function(e){delete t[u][s],i(e)},f=r(o,a);t[u][s]=f;var l=function(){t[u][s]&&t[u][s](n.closeFrame(1e3,"JSONP user aborted read"))};return l},_=function(){};_.prototype=new C,_.prototype.run=function(e,t,n,r,i){var s=this;s.ri=e,s.trans_url=t,s.send_constructor(L(i)),s.poll=new Y(e,r,t+n,i)},_.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var D=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XHRCorsObject)};D.prototype=new _,D.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},D.roundTrips=2,D.need_body=!0;var P=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XDRObject)};P.prototype=new _,P.enabled=function(){return!!t.XDomainRequest},P.roundTrips=2;var H=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRCorsObject)};H.prototype=new _,H.enabled=D.enabled,H.roundTrips=2;var B=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XDRObject)};B.prototype=new _,B.enabled=P.enabled,B.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,r){var i=this;i.ri=e,i.origin=n.getOrigin(r),i.base_url=r,i.trans_url=t;var s=r+"/iframe.html";i.ri._options.devel&&(s+="?t="+ +(new Date)),i.window_id=n.random_string(8),s+="#"+i.window_id,i.iframeObj=n.createIframe(s,function(e){i.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),i.onmessage_cb=n.bind(i.onmessage,i),n.attachMessage(i.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin!==t.origin)return;var n=e.data.slice(0,8),r=e.data.slice(8,9),i=e.data.slice(9);if(n!==t.window_id)return;switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(i)}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return(typeof t.postMessage=="function"||typeof t.postMessage=="object")&&!e};var F,I=function(e,r){parent!==t?parent.postMessage(F+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},q=function(){};q.prototype._didClose=function(e,t){I("t",n.closeFrame(e,t))},q.prototype._didMessage=function(e){I("t",e)},q.prototype._doSend=function(e){this._transport.doSend(e)},q.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=undefined,T.bootstrap_iframe=function(){var r;F=e.location.hash.slice(1);var i=function(e){if(e.source!==parent)return;typeof n.parent_origin=="undefined"&&(n.parent_origin=e.origin);if(e.origin!==n.parent_origin)return;var i=e.data.slice(0,8),s=e.data.slice(8,9),o=e.data.slice(9);if(i!==F)return;switch(s){case"s":var u=JSON.parse(o),a=u[0],f=u[1],l=u[2],c=u[3];a!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+a+'", the iframe:'+' "'+T.version+'".');if(!n.flatUrl(l)||!n.flatUrl(c)){n.log("Only basic urls are supported in SockJS");return}if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(c)){n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,l,c])+")");return}r=new q,r._transport=new q[f](r,l,c);break;case"m":r._doSend(o);break;case"c":r&&r._doCleanup(),r=null}};n.attachMessage(i),I("s")};var R=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};R.prototype=new s(["finish"]),R.prototype.doXhr=function(e,t){var r=this,i=(new Date).getTime(),s=new t("GET",e+"/info"),o=n.delay(8e3,function(){s.ontimeout()});s.onfinish=function(e,t){clearTimeout(o),o=null;if(e===200){var n=(new Date).getTime()-i,s=JSON.parse(t);typeof s!="object"&&(s={}),r.emit("finish",s,n)}else r.emit("finish")},s.ontimeout=function(){s.close(),r.emit("finish")}};var U=function(t){var r=this,i=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if(typeof t=="string"&&t.substr(0,1)==="m"){var n=JSON.parse(t.substr(1)),i=n[0],s=n[1];r.emit("finish",i,s)}else r.emit("finish");e.doCleanup(),e=null},i={_options:{},_didClose:n,_didMessage:n};e.i_constructor(i,t,t)};e.body?i():n.attachEvent("load",i)};U.prototype=new s(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new s(["finish"]);var W=function(e){if(n.isSameOriginUrl(e))return new R(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new R(e,n.XHRCorsObject);case 2:return new R(e,n.XDRObject);case 3:return new U(e);default:return new z}},X=q["w-iframe-info-receiver"]=function(e,t,r){var i=new R(r,n.XHRLocalObject);i.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};X.prototype.doCleanup=function(){};var V=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};V.prototype=new j,V.enabled=function(){return"EventSource"in t&&j.enabled()},V.need_body=!0,V.roundTrips=3;var $=q["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};$.prototype=new _;var J=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return t.XMLHttpRequest&&j.enabled()},J.need_body=!0,J.roundTrips=3;var K=q["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRLocalObject)};K.prototype=new _;var Q=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new j,Q.enabled=function(){return j.enabled()},Q.need_body=!0,Q.roundTrips=3;var G=q["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",nt,n.XHRLocalObject)};G.prototype=new _;var Y=function(e,t,n,r){var i=this;i.ri=e,i.Receiver=t,i.recv_url=n,i.AjaxObject=r,i._scheduleRecv()};Y.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||(n.reason==="permanent"?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Y.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new i("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,s){var o=s?"user":r.readyState!==2?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new i("close",{reason:o}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var et,tt=function(){if(et===undefined)if("ActiveXObject"in t)try{et=!!(new ActiveXObject("htmlfile"))}catch(e){}else et=!1;return et},nt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(u+"."+r.id);var s=tt()?n.createHtmlfile:n.createIframe,o;t[u][r.id]={start:function(){o.loaded()},message:function(e){r.dispatchEvent(new i("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){o.cleanup(),r.iframe_close=o=null,delete t[u][r.id],r.dispatchEvent(new i("close",{reason:n}))},o=s(e,function(e){r.iframe_close({},"permanent")})};nt.prototype=new r,nt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var rt=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(e!==200)return;for(;;){var s=t.slice(r),o=s.indexOf("\n");if(o===-1)break;r+=o+1;var u=s.slice(0,o);n.dispatchEvent(new i("message",{data:u}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=e===200?"network":"permanent";n.dispatchEvent(new i("close",{reason:r}))}};return rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new i("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return j},T}();"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),typeof define=="function"&&define.amd&&define("sockjs",[],function(){return SockJS}),typeof module=="object"&&module&&module.exports&&(module.exports=SockJS)}),require.define("/node_modules/dnode/package.json",function(e,t,n,r,i,s){t.exports={main:"./index.js",browserify:"browser.js"}}),require.define("/node_modules/dnode/browser.js",function(e,t,n,r,i,s){var o=e("./lib/dnode");t.exports=function(e,t){return new o(e,t)}}),require.define("/node_modules/dnode/lib/dnode.js",function(e,t,n,r,i,s){function f(e,t){u.call(this);var n=this;n.opts=t||{},n.cons=typeof e=="function"?e:function(){return e||{}},n.readable=!0,n.writable=!0,s.nextTick(function(){if(n._ended)return;n.proto=n._createProto(),n.proto.start(),(n._handleQueue||[]).forEach(function(e){n.handle(e)})})}var o=e("dnode-protocol"),u=e("stream"),a=typeof JSON=="object"?JSON:e("jsonify");t.exports=f,f.prototype={},function(){for(var e in u.prototype)f.prototype[e]=u.prototype[e]}(),f.prototype._createProto=function(){var e=this,t=o(function(t){if(e._ended)return;var n=e.cons.call(this,t,e);return typeof n!="object"&&(n=this),e.emit("local",n,e),n},e.opts.proto);return t.on("remote",function(t){e.emit("remote",t,e),e.emit("ready")}),t.on("request",function(t){if(!e.readable)return;e.opts.emit==="object"?e.emit("data",t):e.emit("data",a.stringify(t)+"\n")}),t.on("fail",function(t){e.emit("fail",t)}),t.on("error",function(t){e.emit("error",t)}),t},f.prototype.write=function(e){if(this._ended)return;var t=this,n;if(e&&typeof e=="object"&&e.constructor&&e.constructor.name==="Buffer"&&e.length&&typeof e.slice=="function"){t._bufs||(t._bufs=[]);for(var r=0,i=0;r<e.length;r++)if(e[r]===10){t._bufs.push(e.slice(i,r));var s="";for(var o=0;o<t._bufs.length;o++)s+=String(t._bufs[o]);try{n=a.parse(s)}catch(u){return t.end()}i=r+1,t.handle(n),t._bufs=[]}i<e.length&&t._bufs.push(e.slice(i,e.length))}else if(e&&typeof e=="object")t.handle(e);else{typeof e!="string"&&(e=String(e)),t._line||(t._line="");for(var r=0;r<e.length;r++)if(e.charCodeAt(r)===10){try{n=a.parse(t._line)}catch(u){return t.end()}t.handle(n),t._line=""}else t._line+=e.charAt(r)}},f.prototype.handle=function(e){this.proto?this.proto.handle(e):(this._handleQueue||(this._handleQueue=[]),this._handleQueue.push(e))},f.prototype.end=function(){if(this._ended)return;this._ended=!0,this.writable=!1,this.readable=!1,this.emit("end")},f.prototype.destroy=function(){this.end()}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/package.json",function(e,t,n,r,i,s){t.exports={main:"./index.js"}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/index.js",function(e,t,n,r,i,s){function c(e,t){var n=this;o.call(n),t||(t={}),n.remote={},n.callbacks={local:[],remote:[]},n.wrap=t.wrap,n.unwrap=t.unwrap,n.scrubber=u(n.callbacks.local),typeof e=="function"?n.instance=new e(n.remote,n):n.instance=e||{}}var o=e("events").EventEmitter,u=e("./lib/scrub"),a=e("./lib/keys"),f=e("./lib/foreach"),l=e("./lib/is_enum");t.exports=function(e,t){return new c(e,t)},function(){for(var e in o.prototype)c.prototype[e]=o.prototype[e]}(),c.prototype.start=function(){this.request("methods",[this.instance])},c.prototype.cull=function(e){delete this.callbacks.remote[e],this.emit("request",{method:"cull",arguments:[e]})},c.prototype.request=function(e,t){var n=this.scrubber.scrub(t);this.emit("request",{method:e,arguments:n.arguments,callbacks:n.callbacks,links:n.links})},c.prototype.handle=function(e){var t=this,n=t.scrubber.unscrub(e,function(e){if(t.callbacks.remote[e]===undefined){var n=function(){t.request(e,[].slice.apply(arguments))};return t.callbacks.remote[e]=t.wrap?t.wrap(n,e):n,n}return t.unwrap?t.unwrap(t.callbacks.remote[e],e):t.callbacks.remote[e]});if(e.method==="methods")t.handleMethods(n[0]);else if(e.method==="cull")f(n,function(e){delete t.callbacks.local[e]});else if(typeof e.method=="string")l(t.instance,e.method)?t.apply(t.instance[e.method],n):t.emit("fail",new Error("request for non-enumerable method: "+e.method));else if(typeof e.method=="number"){var r=t.callbacks.local[e.method];r?t.apply(r,n):t.emit("fail",new Error("no such method"))}},c.prototype.handleMethods=function(e){var t=this;typeof e!="object"&&(e={}),f(a(t.remote),function(e){delete t.remote[e]}),f(a(e),function(n){t.remote[n]=e[n]}),t.emit("remote",t.remote),t.emit("ready")},c.prototype.apply=function(e,t){try{e.apply(undefined,t)}catch(n){this.emit("error",n)}}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/lib/scrub.js",function(e,t,n,r,i,s){function f(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function l(e){this.callbacks=e}var o=e("traverse"),u=e("./keys"),a=e("./foreach");t.exports=function(e){return new l(e)},l.prototype.scrub=function(e){var t=this,n={},r=[],i=o(e).map(function(e){if(typeof e=="function"){var i=f(t.callbacks,e);if(i>=0&&!(i in n))n[i]=this.path;else{var s=t.callbacks.length;t.callbacks.push(e),n[s]=this.path}this.update("[Function]")}else this.circular&&(r.push({from:this.circular.path,to:this.path}),this.update("[Circular]"))});return{arguments:i,callbacks:n,links:r}},l.prototype.unscrub=function(e,t){var n=e.arguments||[];return a(u(e.callbacks||{}),function(r){var i=parseInt(r,10),s=e.callbacks[i];o.set(n,s,t(i))}),a(e.links||[],function(e){var t=o.get(n,e.from);o.set(n,e.to,t)}),n}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/node_modules/traverse/package.json",function(e,t,n,r,i,s){t.exports={main:"index.js"}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/node_modules/traverse/index.js",function(e,t,n,r,i,s){function u(e){this.value=e}function a(e,t,n){var r=[],i=[],s=!0;return function o(e){function p(){if(typeof h.node=="object"&&h.node!==null){if(!h.keys||h.node_!==h.node)h.keys=l(h.node);h.isLeaf=h.keys.length==0;for(var t=0;t<i.length;t++)if(i[t].node_===e){h.circular=i[t];break}}else h.isLeaf=!0,h.keys=null;h.notLeaf=!h.isLeaf,h.notRoot=!h.isRoot}var u=n?f(e):e,a={},c=!0,h={node:u,node_:e,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:r.length===0,level:r.length,circular:null,update:function(e,t){h.isRoot||(h.parent.node[h.key]=e),h.node=e,t&&(c=!1)},"delete":function(e){delete h.parent.node[h.key],e&&(c=!1)},remove:function(e){y(h.parent.node)?h.parent.node.splice(h.key,1):delete h.parent.node[h.key],e&&(c=!1)},keys:null,before:function(e){a.before=e},after:function(e){a.after=e},pre:function(e){a.pre=e},post:function(e){a.post=e},stop:function(){s=!1},block:function(){c=!1}};if(!s)return h;p();var d=t.call(h,h.node);return d!==undefined&&h.update&&h.update(d),a.before&&a.before.call(h,h.node),c?(typeof h.node=="object"&&h.node!==null&&!h.circular&&(i.push(h),p(),b(h.keys,function(e,t){r.push(e),a.pre&&a.pre.call(h,h.node[e],e);var i=o(h.node[e]);n&&Object.hasOwnProperty.call(h.node,e)&&(h.node[e]=i.node),i.isLast=t==h.keys.length-1,i.isFirst=t==0,a.post&&a.post.call(h,i),r.pop()}),i.pop()),a.after&&a.after.call(h,h.node),h):h}(e).node}function f(e){if(typeof e=="object"&&e!==null){var t;if(y(e))t=[];else if(h(e))t=new Date(e);else if(p(e))t=new RegExp(e);else if(d(e))t={message:e.message};else if(v(e))t=new Boolean(e);else if(m(e))t=new Number(e);else if(g(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return b(l(e),function(n){t[n]=e[n]}),t}return e}function c(e){return Object.prototype.toString.call(e)}function h(e){return c(e)==="[object Date]"}function p(e){return c(e)==="[object RegExp]"}function d(e){return c(e)==="[object Error]"}function v(e){return c(e)==="[object Boolean]"}function m(e){return c(e)==="[object Number]"}function g(e){return c(e)==="[object String]"}var o=t.exports=function(e){return new u(e)};u.prototype.get=function(e){var t=this.value;for(var n=0;n<e.length;n++){var r=e[n];if(!Object.hasOwnProperty.call(t,r)){t=undefined;break}t=t[r]}return t},u.prototype.has=function(e){var t=this.value;for(var n=0;n<e.length;n++){var r=e[n];if(!Object.hasOwnProperty.call(t,r))return!1;t=t[r]}return!0},u.prototype.set=function(e,t){var n=this.value;for(var r=0;r<e.length-1;r++){var i=e[r];Object.hasOwnProperty.call(n,i)||(n[i]={}),n=n[i]}return n[e[r]]=t,t},u.prototype.map=function(e){return a(this.value,e,!0)},u.prototype.forEach=function(e){return this.value=a(this.value,e,!1),this.value},u.prototype.reduce=function(e,t){var n=arguments.length===1,r=n?this.value:t;return this.forEach(function(t){if(!this.isRoot||!n)r=e.call(this,r,t)}),r},u.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},u.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},u.prototype.clone=function(){var e=[],t=[];return function n(r){for(var i=0;i<e.length;i++)if(e[i]===r)return t[i];if(typeof r=="object"&&r!==null){var s=f(r);return e.push(r),t.push(s),b(l(r),function(e){s[e]=n(r[e])}),e.pop(),t.pop(),s}return r}(this.value)};var l=Object.keys||function(t){var n=[];for(var r in t)n.push(r);return n},y=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},b=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};b(l(u.prototype),function(e){o[e]=function(t){var n=[].slice.call(arguments,1),r=new u(t);return r[e].apply(r,n)}})}),require.define("/node_modules/dnode/node_modules/dnode-protocol/lib/keys.js",function(e,t,n,r,i,s){t.exports=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/lib/foreach.js",function(e,t,n,r,i,s){t.exports=function(t,n){if(t.forEach)return t.forEach(n);for(var r=0;r<t.length;r++)n.call(t,t[r],r)}}),require.define("/node_modules/dnode/node_modules/dnode-protocol/lib/is_enum.js",function(e,t,n,r,i,s){var o=e("./keys");t.exports=function(e,t){if(Object.prototype.propertyIsEnumerable)return Object.prototype.propertyIsEnumerable.call(e,t);var n=o(e);for(var r=0;r<n.length;r++)if(t===n[r])return!0;return!1}}),require.define("/node_modules/dnode/node_modules/jsonify/package.json",function(e,t,n,r,i,s){t.exports={main:"index.js"}}),require.define("/node_modules/dnode/node_modules/jsonify/index.js",function(e,t,n,r,i,s){n.parse=e("./lib/parse"),n.stringify=e("./lib/stringify")}),require.define("/node_modules/dnode/node_modules/jsonify/lib/parse.js",function(e,t,n,r,i,s){var o,u,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f,l=function(e){throw{name:"SyntaxError",message:e,at:o,text:f}},c=function(e){return e&&e!==u&&l("Expected '"+e+"' instead of '"+u+"'"),u=f.charAt(o),o+=1,u},h=function(){var e,t="";u==="-"&&(t="-",c("-"));while(u>="0"&&u<="9")t+=u,c();if(u==="."){t+=".";while(c()&&u>="0"&&u<="9")t+=u}if(u==="e"||u==="E"){t+=u,c();if(u==="-"||u==="+")t+=u,c();while(u>="0"&&u<="9")t+=u,c()}e=+t;if(!!isFinite(e))return e;l("Bad number")},p=function(){var e,t,n="",r;if(u==='"')while(c()){if(u==='"')return c(),n;if(u==="\\"){c();if(u==="u"){r=0;for(t=0;t<4;t+=1){e=parseInt(c(),16);if(!isFinite(e))break;r=r*16+e}n+=String.fromCharCode(r)}else{if(typeof a[u]!="string")break;n+=a[u]}}else n+=u}l("Bad string")},d=function(){while(u&&u<=" ")c()},v=function(){switch(u){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}l("Unexpected '"+u+"'")},m,g=function(){var e=[];if(u==="["){c("["),d();if(u==="]")return c("]"),e;while(u){e.push(m()),d();if(u==="]")return c("]"),e;c(","),d()}}l("Bad array")},y=function(){var e,t={};if(u==="{"){c("{"),d();if(u==="}")return c("}"),t;while(u){e=p(),d(),c(":"),Object.hasOwnProperty.call(t,e)&&l('Duplicate key "'+e+'"'),t[e]=m(),d();if(u==="}")return c("}"),t;c(","),d()}}l("Bad object")};m=function(){d();switch(u){case"{":return y();case"[":return g();case'"':return p();case"-":return h();default:return u>="0"&&u<="9"?h():v()}},t.exports=function(e,t){var n;return f=e,o=0,u=" ",n=m(),d(),u&&l("Syntax error"),typeof t=="function"?function r(e,n){var i,s,o=e[n];if(o&&typeof o=="object")for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s=r(o,i),s!==undefined?o[i]=s:delete o[i]);return t.call(e,n,o)}({"":n},""):n}}),require.define("/node_modules/dnode/node_modules/jsonify/lib/stringify.js",function(e,t,n,r,i,s){function h(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=l[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function p(e,t){var n,r,i,s,o=a,u,l=t[e];l&&typeof l=="object"&&typeof l.toJSON=="function"&&(l=l.toJSON(e)),typeof c=="function"&&(l=c.call(t,e,l));switch(typeof l){case"string":return h(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";a+=f,u=[];if(Object.prototype.toString.apply(l)==="[object Array]"){s=l.length;for(n=0;n<s;n+=1)u[n]=p(n,l)||"null";return i=u.length===0?"[]":a?"[\n"+a+u.join(",\n"+a)+"\n"+o+"]":"["+u.join(",")+"]",a=o,i}if(c&&typeof c=="object"){s=c.length;for(n=0;n<s;n+=1)r=c[n],typeof r=="string"&&(i=p(r,l),i&&u.push(h(r)+(a?": ":":")+i))}else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=p(r,l),i&&u.push(h(r)+(a?": ":":")+i));return i=u.length===0?"{}":a?"{\n"+a+u.join(",\n"+a)+"\n"+o+"}":"{"+u.join(",")+"}",a=o,i}}var o=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,f,l={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;t.exports=function(e,t,n){var r;a="",f="";if(typeof n=="number")for(r=0;r<n;r+=1)f+=" ";else typeof n=="string"&&(f=n);c=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return p("",{"":e});throw new Error("JSON.stringify")}}),require.define("/node_modules/knockout-client/package.json",function(e,t,n,r,i,s){t.exports={main:"knockout.js"}}),require.define("/node_modules/knockout-client/knockout.js",function(e,t,n,r,i,s){(function(r,i,s,o){function u(e){throw e}function h(e){return function(){return e}}function p(e){function t(e,t,r){r&&t!==n.k.r(e)&&n.k.S(e,t),t!==n.k.r(e)&&n.a.va(e,"change")}var n="undefined"!=typeof e?e:{};n.b=function(e,t){for(var r=e.split("."),i=n,s=0;s<r.length-1;s++)i=i[r[s]];i[r[r.length-1]]=t},n.B=function(e,t,n){e[t]=n},n.version="2.1.0",n.b("version",n.version),n.a=new function(){function e(e,t){if("input"!==n.a.o(e)||!e.type||"click"!=t.toLowerCase())return c;var r=e.type;return"checkbox"==r||"radio"==r}var t=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,o={},h={};o[/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],o.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var p in o){var d=o[p];if(d.length)for(var v=0,g=d.length;v<g;v++)h[d[v]]=p}var y={propertychange:f},b=function(){for(var e=3,t=i.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return 4<e?e:a}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],v:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},j:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ab:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return l},ba:function(e,t){var r=n.a.j(e,t);0<=r&&e.splice(r,1)},za:function(e){for(var e=e||[],t=[],r=0,i=e.length;r<i;r++)0>n.a.j(t,e[r])&&t.push(e[r]);return t},T:function(e,t){for(var e=e||[],n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},aa:function(e,t){for(var e=e||[],n=[],r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},N:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},ga:function(e){for(;e.firstChild;)n.removeNode(e.firstChild)},Ab:function(e){for(var e=n.a.L(e),t=i.createElement("div"),r=0,s=e.length;r<s;r++)n.F(e[r]),t.appendChild(e[r]);return t},X:function(e,t){n.a.ga(e);if(t)for(var r=0,i=t.length;r<i;r++)e.appendChild(t[r])},Na:function(e,t){var r=e.nodeType?[e]:e;if(0<r.length){for(var i=r[0],s=i.parentNode,o=0,u=t.length;o<u;o++)s.insertBefore(t[o],i);o=0;for(u=r.length;o<u;o++)n.removeNode(r[o])}},Pa:function(e,t){0<=s.userAgent.indexOf("MSIE 6")?e.setAttribute("selected",t):e.selected=t},w:function(e){return(e||"").replace(t,"")},Ib:function(e,t){for(var r=[],i=(e||"").split(t),s=0,o=i.length;s<o;s++){var u=n.a.w(i[s]);""!==u&&r.push(u)}return r},Hb:function(e,t){return e=e||"",t.length>e.length?c:e.substring(0,t.length)===t},eb:function(e,t){for(var n="return ("+e+")",r=0;r<t;r++)n="with(sc["+r+"]) { "+n+" } ";return new Function("sc",n)},kb:function(e,t){if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(e)&16);for(;e!=l;){if(e==t)return f;e=e.parentNode}return c},fa:function(e){return n.a.kb(e,e.ownerDocument)},o:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(t,n,r){var i=b&&y[n];if(!i&&"undefined"!=typeof jQuery){if(e(t,n))var s=r,r=function(e,t){var n=this.checked;t&&(this.checked=t.fb!==f),s.call(this,e),this.checked=n};jQuery(t).bind(n,r)}else!i&&"function"==typeof t.addEventListener?t.addEventListener(n,r,c):"undefined"!=typeof t.attachEvent?t.attachEvent("on"+n,function(e){r.call(t,e)}):u(Error("Browser doesn't support addEventListener or attachEvent"))},va:function(t,n){(!t||!t.nodeType)&&u(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var s=[];e(t,n)&&s.push({fb:t.checked}),jQuery(t).trigger(n,s)}else"function"==typeof i.createEvent?"function"==typeof t.dispatchEvent?(s=i.createEvent(h[n]||"HTMLEvents"),s.initEvent(n,f,f,r,0,0,0,0,0,c,c,c,c,0,t),t.dispatchEvent(s)):u(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof t.fireEvent?
(e(t,n)&&(t.checked=t.checked!==f),t.fireEvent("on"+n)):u(Error("Browser doesn't support triggering events"))},d:function(e){return n.la(e)?e():e},Ua:function(e,t,r){var i=(e.className||"").split(/\s+/),s=0<=n.a.j(i,t);if(r&&!s)e.className+=(i[0]?" ":"")+t;else if(s&&!r){r="";for(s=0;s<i.length;s++)i[s]!=t&&(r+=i[s]+" ");e.className=n.a.w(r)}},Qa:function(e,t){var r=n.a.d(t);if(r===l||r===a)r="";"innerText"in e?e.innerText=r:e.textContent=r,9<=b&&(e.style.display=e.style.display)},lb:function(e){if(9<=b){var t=e.style.width;e.style.width=0,e.style.width=t}},Eb:function(e,t){for(var e=n.a.d(e),t=n.a.d(t),r=[],i=e;i<=t;i++)r.push(i);return r},L:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},tb:6===b,ub:7===b,ja:b,Da:function(e,t){for(var r=n.a.L(e.getElementsByTagName("input")).concat(n.a.L(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},s=[],o=r.length-1;0<=o;o--)i(r[o])&&s.push(r[o]);return s},Bb:function(e){return"string"==typeof e&&(e=n.a.w(e))?r.JSON&&r.JSON.parse?r.JSON.parse(e):(new Function("return "+e))():l},sa:function(e,t,r){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&u(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(n.a.d(e),t,r)},Cb:function(e,t,r){var r=r||{},s=r.params||{},o=r.includeFields||this.Ca,u=e;if("object"==typeof e&&"form"===n.a.o(e))for(var u=e.action,a=o.length-1;0<=a;a--)for(var f=n.a.Da(e,o[a]),l=f.length-1;0<=l;l--)s[f[l].name]=f[l].value;var t=n.a.d(t),c=i.createElement("form");c.style.display="none",c.action=u,c.method="post";for(var h in t)e=i.createElement("input"),e.name=h,e.value=n.a.sa(n.a.d(t[h])),c.appendChild(e);for(h in s)e=i.createElement("input"),e.name=h,e.value=s[h],c.appendChild(e);i.body.appendChild(c),r.submitter?r.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}},n.b("utils",n.a),n.b("utils.arrayForEach",n.a.v),n.b("utils.arrayFirst",n.a.ab),n.b("utils.arrayFilter",n.a.aa),n.b("utils.arrayGetDistinctValues",n.a.za),n.b("utils.arrayIndexOf",n.a.j),n.b("utils.arrayMap",n.a.T),n.b("utils.arrayPushAll",n.a.N),n.b("utils.arrayRemoveItem",n.a.ba),n.b("utils.extend",n.a.extend),n.b("utils.fieldsIncludedWithJsonPost",n.a.Ca),n.b("utils.getFormFields",n.a.Da),n.b("utils.postJson",n.a.Cb),n.b("utils.parseJson",n.a.Bb),n.b("utils.registerEventHandler",n.a.n),n.b("utils.stringifyJson",n.a.sa),n.b("utils.range",n.a.Eb),n.b("utils.toggleDomNodeCssClass",n.a.Ua),n.b("utils.triggerEvent",n.a.va),n.b("utils.unwrapObservable",n.a.d),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),n.a.f=new function(){var e=0,t="__ko__"+(new Date).getTime(),r={};return{get:function(e,t){var r=n.a.f.getAll(e,c);return r===a?a:r[t]},set:function(e,t,r){r===a&&n.a.f.getAll(e,c)===a||(n.a.f.getAll(e,f)[t]=r)},getAll:function(n,i){var s=n[t];if(!s||"null"===s){if(!i)return;s=n[t]="ko"+e++,r[s]={}}return r[s]},clear:function(e){var n=e[t];n&&(delete r[n],e[t]=l)}}},n.b("utils.domData",n.a.f),n.b("utils.domData.clear",n.a.f.clear),n.a.G=new function(){function e(e,t){var i=n.a.f.get(e,r);return i===a&&t&&(i=[],n.a.f.set(e,r,i)),i}function t(r){var i=e(r,c);if(i)for(var i=i.slice(0),o=0;o<i.length;o++)i[o](r);n.a.f.clear(r),"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([r]);if(s[r.nodeType])for(i=r.firstChild;r=i;)i=r.nextSibling,8===r.nodeType&&t(r)}var r="__ko_domNodeDisposal__"+(new Date).getTime(),i={1:f,8:f,9:f},s={1:f,9:f};return{wa:function(t,n){"function"!=typeof n&&u(Error("Callback must be a function")),e(t,f).push(n)},Ma:function(t,i){var s=e(t,c);s&&(n.a.ba(s,i),0==s.length&&n.a.f.set(t,r,a))},F:function(e){if(i[e.nodeType]&&(t(e),s[e.nodeType])){var r=[];n.a.N(r,e.getElementsByTagName("*"));for(var e=0,o=r.length;e<o;e++)t(r[e])}},removeNode:function(e){n.F(e),e.parentNode&&e.parentNode.removeChild(e)}}},n.F=n.a.G.F,n.removeNode=n.a.G.removeNode,n.b("cleanNode",n.F),n.b("removeNode",n.removeNode),n.b("utils.domNodeDisposal",n.a.G),n.b("utils.domNodeDisposal.addDisposeCallback",n.a.G.wa),n.b("utils.domNodeDisposal.removeDisposeCallback",n.a.G.Ma),function(){n.a.pa=function(e){var t;if("undefined"!=typeof jQuery){if((t=jQuery.clean([e]))&&t[0]){for(e=t[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var s=n.a.w(e).toLowerCase();t=i.createElement("div"),s=s.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!s.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!s.indexOf("<td")||!s.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+s[1]+e+s[2]+"</div>";for("function"==typeof r.innerShiv?t.appendChild(r.innerShiv(e)):t.innerHTML=e;s[0]--;)t=t.lastChild;t=n.a.L(t.lastChild.childNodes)}return t},n.a.Y=function(e,t){n.a.ga(e);if(t!==l&&t!==a)if("string"!=typeof t&&(t=t.toString()),"undefined"!=typeof jQuery)jQuery(e).html(t);else for(var r=n.a.pa(t),i=0;i<r.length;i++)e.appendChild(r[i])}}(),n.b("utils.parseHtmlFragment",n.a.pa),n.b("utils.setHtml",n.a.Y),n.s=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function t(e,r){if(e)if(8==e.nodeType){var i=n.s.Ja(e.nodeValue);i!=l&&r.push({jb:e,yb:i})}else if(1==e.nodeType)for(var i=0,s=e.childNodes,o=s.length;i<o;i++)t(s[i],r)}var r={};return{na:function(t){"function"!=typeof t&&u(Error("You can only pass a function to ko.memoization.memoize()"));var n=e()+e();return r[n]=t,"<!--[ko_memo:"+n+"]-->"},Va:function(e,t){var n=r[e];n===a&&u(Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized."));try{return n.apply(l,t||[]),f}finally{delete r[e]}},Wa:function(e,r){var i=[];t(e,i);for(var s=0,o=i.length;s<o;s++){var u=i[s].jb,a=[u];r&&n.a.N(a,r),n.s.Va(i[s].yb,a),u.nodeValue="",u.parentNode&&u.parentNode.removeChild(u)}},Ja:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:l}}}(),n.b("memoization",n.s),n.b("memoization.memoize",n.s.na),n.b("memoization.unmemoize",n.s.Va),n.b("memoization.parseMemoText",n.s.Ja),n.b("memoization.unmemoizeDomNodeAndDescendants",n.s.Wa),n.Ba={throttle:function(e,t){e.throttleEvaluation=t;var r=l;return n.h({read:e,write:function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}})},notify:function(e,t){return e.equalityComparer="always"==t?h(c):n.m.fn.equalityComparer,e}},n.b("extenders",n.Ba),n.Sa=function(e,t,r){this.target=e,this.ca=t,this.ib=r,n.B(this,"dispose",this.A)},n.Sa.prototype.A=function(){this.sb=f,this.ib()},n.R=function(){this.u={},n.a.extend(this,n.R.fn),n.B(this,"subscribe",this.ta),n.B(this,"extend",this.extend),n.B(this,"getSubscriptionsCount",this.ob)},n.R.fn={ta:function(e,t,r){var r=r||"change",e=t?e.bind(t):e,i=new n.Sa(this,e,function(){n.a.ba(this.u[r],i)}.bind(this));return this.u[r]||(this.u[r]=[]),this.u[r].push(i),i},notifySubscribers:function(e,t){t=t||"change",this.u[t]&&n.a.v(this.u[t].slice(0),function(t){t&&t.sb!==f&&t.ca(e)})},ob:function(){var e=0,t;for(t in this.u)this.u.hasOwnProperty(t)&&(e+=this.u[t].length);return e},extend:function(e){var t=this;if(e)for(var r in e){var i=n.Ba[r];"function"==typeof i&&(t=i(t,e[r]))}return t}},n.Ga=function(e){return"function"==typeof e.ta&&"function"==typeof e.notifySubscribers},n.b("subscribable",n.R),n.b("isSubscribable",n.Ga),n.U=function(){var e=[];return{bb:function(t){e.push({ca:t,Aa:[]})},end:function(){e.pop()},La:function(t){n.Ga(t)||u(Error("Only subscribable things can act as dependencies"));if(0<e.length){var r=e[e.length-1];0<=n.a.j(r.Aa,t)||(r.Aa.push(t),r.ca(t))}}}}();var o={"undefined":f,"boolean":f,number:f,string:f};n.m=function(e){function t(){if(0<arguments.length){if(!t.equalityComparer||!t.equalityComparer(r,arguments[0]))t.I(),r=arguments[0],t.H();return this}return n.U.La(t),r}var r=e;return n.R.call(t),t.H=function(){t.notifySubscribers(r)},t.I=function(){t.notifySubscribers(r,"beforeChange")},n.a.extend(t,n.m.fn),n.B(t,"valueHasMutated",t.H),n.B(t,"valueWillMutate",t.I),t},n.m.fn={equalityComparer:function(e,t){return e===l||typeof e in o?e===t:c}};var p=n.m.Db="__ko_proto__";n.m.fn[p]=n.m,n.ia=function(e,t){return e===l||e===a||e[p]===a?c:e[p]===t?f:n.ia(e[p],t)},n.la=function(e){return n.ia(e,n.m)},n.Ha=function(e){return"function"==typeof e&&e[p]===n.m||"function"==typeof e&&e[p]===n.h&&e.pb?f:c},n.b("observable",n.m),n.b("isObservable",n.la),n.b("isWriteableObservable",n.Ha),n.Q=function(e){0==arguments.length&&(e=[]),e!==l&&e!==a&&!("length"in e)&&u(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var t=n.m(e);return n.a.extend(t,n.Q.fn),t},n.Q.fn={remove:function(e){for(var t=this(),n=[],r="function"==typeof e?e:function(t){return t===e},i=0;i<t.length;i++){var s=t[i];r(s)&&(0===n.length&&this.I(),n.push(s),t.splice(i,1),i--)}return n.length&&this.H(),n},removeAll:function(e){if(e===a){var t=this(),r=t.slice(0);return this.I(),t.splice(0,t.length),this.H(),r}return e?this.remove(function(t){return 0<=n.a.j(e,t)}):[]},destroy:function(e){var t=this(),n="function"==typeof e?e:function(t){return t===e};this.I();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=f);this.H()},destroyAll:function(e){return e===a?this.destroy(h(f)):e?this.destroy(function(t){return 0<=n.a.j(e,t)}):[]},indexOf:function(e){var t=this();return n.a.j(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.I(),this()[n]=t,this.H())}},n.a.v("pop push reverse shift sort splice unshift".split(" "),function(e){n.Q.fn[e]=function(){var t=this();return this.I(),t=t[e].apply(t,arguments),this.H(),t}}),n.a.v(["slice"],function(e){n.Q.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),n.b("observableArray",n.Q),n.h=function(e,t,r){function i(){n.a.v(E,function(e){e.A()}),E=[]}function s(){var e=p.throttleEvaluation;e&&0<=e?(clearTimeout(C),C=setTimeout(o,e)):o()}function o(){if(!y)if(g&&T())S();else{y=f;try{var e=n.a.T(E,function(e){return e.target});n.U.bb(function(t){var r;0<=(r=n.a.j(e,t))?e[r]=a:E.push(t.ta(s))});for(var r=b.call(t),i=e.length-1;0<=i;i--)e[i]&&E.splice(i,1)[0].A();g=f,p.notifySubscribers(v,"beforeChange"),v=r}finally{n.U.end()}p.notifySubscribers(v),y=c}}function p(){if(!(0<arguments.length))return g||o(),n.U.La(p),v;d.apply(p,arguments)}function d(){"function"==typeof w?w.apply(t,arguments):u(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var v,g=c,y=c,b=e;b&&"object"==typeof b?(r=b,b=r.read):(r=r||{},b||(b=r.read)),"function"!=typeof b&&u(Error("Pass a function that returns the value of the ko.computed"));var w=r.write;t||(t=r.owner);var E=[],S=i,x="object"==typeof r.disposeWhenNodeIsRemoved?r.disposeWhenNodeIsRemoved:l,T=r.disposeWhen||h(c);if(x){S=function(){n.a.G.Ma(x,arguments.callee),i()},n.a.G.wa(x,S);var N=T,T=function(){return!n.a.fa(x)||N()}}var C=l;return p.nb=function(){return E.length},p.pb="function"==typeof r.write,p.A=function(){S()},n.R.call(p),n.a.extend(p,n.h.fn),r.deferEvaluation!==f&&o(),n.B(p,"dispose",p.A),n.B(p,"getDependenciesCount",p.nb),p},n.rb=function(e){return n.ia(e,n.h)},e=n.m.Db,n.h[e]=n.m,n.h.fn={},n.h.fn[e]=n.h,n.b("dependentObservable",n.h),n.b("computed",n.h),n.b("isComputed",n.rb),function(){function e(n,i,s){s=s||new r,n=i(n);if("object"!=typeof n||n===l||n===a||n instanceof Date)return n;var o=n instanceof Array?[]:{};return s.save(n,o),t(n,function(t){var r=i(n[t]);switch(typeof r){case"boolean":case"number":case"string":case"function":o[t]=r;break;case"object":case"undefined":var u=s.get(r);o[t]=u!==a?u:e(r,i,s)}}),o}function t(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function r(){var e=[],t=[];this.save=function(r,i){var s=n.a.j(e,r);0<=s?t[s]=i:(e.push(r),t.push(i))},this.get=function(r){return r=n.a.j(e,r),0<=r?t[r]:a}}n.Ta=function(t){return 0==arguments.length&&u(Error("When calling ko.toJS, pass the object you want to convert.")),e(t,function(e){for(var t=0;n.la(e)&&10>t;t++)e=e();return e})},n.toJSON=function(e,t,r){return e=n.Ta(e),n.a.sa(e,t,r)}}(),n.b("toJS",n.Ta),n.b("toJSON",n.toJSON),function(){n.k={r:function(e){switch(n.a.o(e)){case"option":return e.__ko__hasDomDataOptionValue__===f?n.a.f.get(e,n.c.options.oa):e.getAttribute("value");case"select":return 0<=e.selectedIndex?n.k.r(e.options[e.selectedIndex]):a;default:return e.value}},S:function(e,t){switch(n.a.o(e)){case"option":switch(typeof t){case"string":n.a.f.set(e,n.c.options.oa,a),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:n.a.f.set(e,n.c.options.oa,t),e.__ko__hasDomDataOptionValue__=f,e.value="number"==typeof t?t:""}break;case"select":for(var r=e.options.length-1;0<=r;r--)if(n.k.r(e.options[r])==t){e.selectedIndex=r;break}break;default:if(t===l||t===a)t="";e.value=t}}}}(),n.b("selectExtensions",n.k),n.b("selectExtensions.readValue",n.k.r),n.b("selectExtensions.writeValue",n.k.S),n.g=function(){function e(e,n){for(var r=l;e!=r;)r=e,e=e.replace(t,function(e,t){return n[t]});return e}var t=/\@ko_token_(\d+)\@/g,r=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,i=["true","false"];return{D:[],W:function(t){var r=n.a.w(t);if(3>r.length)return[];"{"===r.charAt(0)&&(r=r.substring(1,r.length-1));for(var t=[],i=l,s,o=0;o<r.length;o++){var u=r.charAt(o);if(i===l)switch(u){case'"':case"'":case"/":i=o,s=u}else if(u==s&&"\\"!==r.charAt(o-1)){u=r.substring(i,o+1),t.push(u);var a="@ko_token_"+(t.length-1)+"@",r=r.substring(0,i)+a+r.substring(o+1),o=o-(u.length-a.length),i=l}}s=i=l;for(var f=0,c=l,o=0;o<r.length;o++){u=r.charAt(o);if(i===l)switch(u){case"{":i=o,c=u,s="}";break;case"(":i=o,c=u,s=")";break;case"[":i=o,c=u,s="]"}u===c?f++:u===s&&(f--,0===f&&(u=r.substring(i,o+1),t.push(u),a="@ko_token_"+(t.length-1)+"@",r=r.substring(0,i)+a+r.substring(o+1),o-=u.length-a.length,i=l))}s=[],r=r.split(","),i=0;for(o=r.length;i<o;i++)f=r[i],c=f.indexOf(":"),0<c&&c<f.length-1?(u=f.substring(c+1),s.push({key:e(f.substring(0,c),t),value:e(u,t)})):s.push({unknown:e(f,t)});return s},ka:function(e){for(var t="string"==typeof e?n.g.W(e):e,s=[],e=[],o,u=0;o=t[u];u++)if(0<s.length&&s.push(","),o.key){var a;e:{a=o.key;var f=n.a.w(a);switch(f.length&&f.charAt(0)){case"'":case'"':break e;default:a="'"+f+"'"}}o=o.value,s.push(a),s.push(":"),s.push(o),f=n.a.w(o);if(0<=n.a.j(i,n.a.w(f).toLowerCase())?0:f.match(r)!==l)0<e.length&&e.push(", "),e.push(a+" : function(__ko_value) { "+o+" = __ko_value; }")}else o.unknown&&s.push(o.unknown);return t=s.join(""),0<e.length&&(t=t+", '_ko_property_writers' : { "+e.join("")+" } "),t},wb:function(e,t){for(var r=0;r<e.length;r++)if(n.a.w(e[r].key)==t)return f;return c},$:function(e,t,r,i,s){!e||!n.Ha(e)?(e=t()._ko_property_writers)&&e[r]&&e[r](i):(!s||e()!==i)&&e(i)}}}(),n.b("jsonExpressionRewriting",n.g),n.b("jsonExpressionRewriting.bindingRewriteValidators",n.g.D),n.b("jsonExpressionRewriting.parseObjectLiteral",n.g.W),n.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",n.g.ka),function(){function e(e){return 8==e.nodeType&&(o?e.text:e.nodeValue).match(a)}function t(e){return 8==e.nodeType&&(o?e.text:e.nodeValue).match(c)}function r(n,r){for(var i=n,s=1,o=[];i=i.nextSibling;){if(t(i)&&(s--,0===s))return o;o.push(i),e(i)&&s++}return r||u(Error("Cannot find closing comment tag to match: "+n.nodeValue)),l}function s(e,t){var n=r(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:l}var o="<!--test-->"===i.createComment("test").text,a=o?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,c=o?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,h={ul:f,ol:f};n.e={C:{},childNodes:function(t){return e(t)?r(t):t.childNodes},ha:function(t){if(e(t))for(var t=n.e.childNodes(t),r=0,i=t.length;r<i;r++)n.removeNode(t[r]);else n.a.ga(t)},X:function(t,r){if(e(t)){n.e.ha(t);for(var i=t.nextSibling,s=0,o=r.length;s<o;s++)i.parentNode.insertBefore(r[s],i)}else n.a.X(t,r)},Ka:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},Fa:function(t,n,r){e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?l:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=s(n)),n.nextSibling&&t(n.nextSibling)?l:n.nextSibling},Xa:function(t){return(t=e(t))?t[1]:l},Ia:function(r){if(h[n.a.o(r)]){var i=r.firstChild;if(i)do if(1===i.nodeType){var o;o=i.firstChild;var u=l;if(o)do if(u)u.push(o);else if(e(o)){var a=s(o,f);a?o=a:u=[o]}else t(o)&&(u=[o]);while(o=o.nextSibling);if(o=u){u=i.nextSibling;for(a=0;a<o.length;a++)u?r.insertBefore(o[a],u):r.appendChild(o[a])}}while(i=i.nextSibling)}}}}(),n.b("virtualElements",n.e),n.b("virtualElements.allowedBindings",n.e.C),n.b("virtualElements.emptyNode",n.e.ha),n.b("virtualElements.insertAfter",n.e.Fa),n.b("virtualElements.prepend",n.e.Ka),n.b("virtualElements.setDomNodeChildren",n.e.X),function(){n.J=function(){this.cb={}},n.a.extend(n.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind")!=l;case 8:return n.e.Xa(e)!=l;default:return c}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t):l},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return n.e.Xa(e);default:return l}},parseBindingsString:function(e,t){try{var r=t.$data,r="object"==typeof r&&r!=l?[r,t]:[t],i=r.length,s=this.cb,o=i+"_"+e,a;if(!(a=s[o])){var f=" { "+n.g.ka(e)+" } ";a=s[o]=n.a.eb(f,i)}return a(r)}catch(c){u(Error("Unable to parse bindings.\nMessage: "+c+";\nBindings value: "+e))}}}),n.J.instance=new n.J}(),n.b("bindingProvider",n.J),function(){function e(e,r,i){for(var s=n.e.firstChild(r);r=s;)s=n.e.nextSibling(r),t(e,r,i)}function t(t,r,s){var o=f,u=1===r.nodeType;u&&n.e.Ia(r);if(u&&s||n.J.instance.nodeHasBindings(r))o=i(r,l,t,s).Gb;o&&e(t,r,!u)}function i(e,t,r,i){function s(e){return function(){return c[e]}}function o(){return c}var f=0,c,h;return n.h(function(){var l=r&&r instanceof n.z?r:new n.z(n.a.d(r)),p=l.$data;i&&n.Ra(e,l);if(c=("function"==typeof t?t():t)||n.J.instance.getBindings(e,l)){if(0===f){f=1;for(var d in c){var v=n.c[d];v&&8===e.nodeType&&!n.e.C[d]&&u(Error("The binding '"+d+"' cannot be used with virtual elements")),v&&"function"==typeof v.init&&(v=(0,v.init)(e,s(d),o,p,l))&&v.controlsDescendantBindings&&(h!==a&&u(Error("Multiple bindings ("+h+" and "+d+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),h=d)}f=2}if(2===f)for(d in c)(v=n.c[d])&&"function"==typeof v.update&&(0,v.update)(e,s(d),o,p,l)}},l,{disposeWhenNodeIsRemoved:e}),{Gb:h===a}}n.c={},n.z=function(e,t){t?(n.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e),this.$data=e},n.z.prototype.createChildContext=function(e){return new n.z(e,this)},n.z.prototype.extend=function(e){var t=n.a.extend(new n.z,this);return n.a.extend(t,e)},n.Ra=function(e,t){if(2!=arguments.length)return n.a.f.get(e,"__ko_bindingContext__");n.a.f.set(e,"__ko_bindingContext__",t)},n.ya=function(e,t,r){return 1===e.nodeType&&n.e.Ia(e),i(e,t,r,f)},n.Ya=function(t,n){(1===n.nodeType||8===n.nodeType)&&e(t,n,f)},n.xa=function(e,n){n&&1!==n.nodeType&&8!==n.nodeType&&u(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),n=n||r.document.body,t(e,n,f)},n.ea=function(e){switch(e.nodeType){case 1:case 8:var t=n.Ra(e);if(t)return t;if(e.parentNode)return n.ea(e.parentNode)}},n.hb=function(e){return(e=n.ea(e))?e.$data:a},n.b("bindingHandlers",n.c),n.b("applyBindings",n.xa),n.b("applyBindingsToDescendants",n.Ya),n.b("applyBindingsToNode",n.ya),n.b("contextFor",n.ea),n.b("dataFor",n.hb)}(),n.a.v(["click"],function(e){n.c[e]={init:function(t,r,i,s){return n.c.event.init.call(this,t,function(){var t={};return t[e]=r(),t},i,s)}}}),n.c.event={init:function(e,t,r,i){var s=t()||{},o;for(o in s)(function(){var s=o;"string"==typeof s&&n.a.n(e,s,function(e){var o,u=t()[s];if(u){var a=r();try{var l=n.a.L(arguments);l.unshift(i),o=u.apply(i,l)}finally{o!==f&&(e.preventDefault?e.preventDefault():e.returnValue=c)}a[s+"Bubble"]===c&&(e.cancelBubble=f,e.stopPropagation&&e.stopPropagation())}})})()}},n.c.submit={init:function(e,t,r,i){"function"!=typeof t()&&u(Error("The value for a submit binding must be a function")),n.a.n(e,"submit",function(n){var r,s=t();try{r=s.call(i,e)}finally{r!==f&&(n.preventDefault?n.preventDefault():n.returnValue=c)}})}},n.c.visible={update:function(e,t){var r=n.a.d(t()),i="none"!=e.style.display;r&&!i?e.style.display="":!r&&i&&(e.style.display="none")}},n.c.enable={update:function(e,t){var r=n.a.d(t());r&&e.disabled?e.removeAttribute("disabled"):!r&&!e.disabled&&(e.disabled=f)}},n.c.disable={update:function(e,t){n.c.enable.update(e,function(){return!n.a.d(t())})}},n.c.value={init:function(e,t,r){function i(){var i=t(),s=n.k.r(e);n.g.$(i,r,"value",s,f)}var s=["change"],o=r().valueUpdate;o&&("string"==typeof o&&(o=[o]),n.a.N(s,o),s=n.a.za(s));if(n.a.ja&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete)&&-1==n.a.j(s,"propertychange")){var u=c;n.a.n(e,"propertychange",function(){u=f}),n.a.n(e,"blur",function(){u&&(u=c,i())})}n.a.v(s,function(t){var r=i;n.a.Hb(t,"after")&&(r=function(){setTimeout(i,0)},t=t.substring(5)),n.a.n(e,t,r)})},update:function(e,r){var i="select"===n.a.o(e),s=n.a.d(r()),o=n.k.r(e),u=s!=o;0===s&&0!==o&&"0"!==o&&(u=f),u&&(o=function(){n.k.S(e,s)},o(),i&&setTimeout(o,0)),i&&0<e.length&&t(e,s,c)}},n.c.options={update:function(e,r,s){"select"!==n.a.o(e)&&u(Error("options binding applies only to SELECT elements"));for(var o=0==e.length,c=n.a.T(n.a.aa(e.childNodes,function(e){return e.tagName&&"option"===n.a.o(e)&&e.selected}),function(e){return n.k.r(e)||e.innerText||e.textContent}),h=e.scrollTop,p=n.a.d(r());0<e.length;)n.F(e.options[0]),e.remove(0);if(p){s=s(),"number"!=typeof p.length&&(p=[p]);if(s.optionsCaption){var d=i.createElement("option");n.a.Y(d,s.optionsCaption),n.k.S(d,a),e.appendChild(d)}for(var r=0,v=p.length;r<v;r++){var d=i.createElement("option"),g="string"==typeof s.optionsValue?p[r][s.optionsValue]:p[r],g=n.a.d(g);n.k.S(d,g);var y=s.optionsText,g="function"==typeof y?y(p[r]):"string"==typeof y?p[r][y]:g;if(g===l||g===a)g="";n.a.Qa(d,g),e.appendChild(d)}p=e.getElementsByTagName("option"),r=d=0;for(v=p.length;r<v;r++)0<=n.a.j(c,n.k.r(p[r]))&&(n.a.Pa(p[r],f),d++);e.scrollTop=h,o&&"value"in s&&t(e,n.a.d(s.value),f),n.a.lb(e)}}},n.c.options.oa="__ko.optionValueDomData__",n.c.selectedOptions={Ea:function(e){for(var t=[],e=e.childNodes,r=0,i=e.length;r<i;r++){var s=e[r],o=n.a.o(s);"option"==o&&s.selected?t.push(n.k.r(s)):"optgroup"==o&&(s=n.c.selectedOptions.Ea(s),Array.prototype.splice.apply(t,[t.length,0].concat(s)))}return t},init:function(e,t,r){n.a.n(e,"change",function(){var e=t(),i=n.c.selectedOptions.Ea(this);n.g.$(e,r,"value",i)})},update:function(e,t){"select"!=n.a.o(e)&&u(Error("values binding applies only to SELECT elements"));var r=n.a.d(t());if(r&&"number"==typeof r.length)for(var i=e.childNodes,s=0,o=i.length;s<o;s++){var a=i[s];"option"===n.a.o(a)&&n.a.Pa(a,0<=n.a.j(r,n.k.r(a)))}}},n.c.text={update:function(e,t){n.a.Qa(e,t())}},n.c.html={init:function(){return{controlsDescendantBindings:f}},update:function(e,t){var r=n.a.d(t());n.a.Y(e,r)}},n.c.css={update:function(e,t){var r=n.a.d(t()||{}),i;for(i in r)if("string"==typeof i){var s=n.a.d(r[i]);n.a.Ua(e,i,s)}}},n.c.style={update:function(e,t){var r=n.a.d(t()||{}),i;for(i in r)if("string"==typeof i){var s=n.a.d(r[i]);e.style[i]=s||""}}},n.c.uniqueName={init:function(e,t){t()&&(e.name="ko_unique_"+ ++n.c.uniqueName.gb,(n.a.tb||n.a.ub)&&e.mergeAttributes(i.createElement("<input name='"+e.name+"'/>"),c))}},n.c.uniqueName.gb=0,n.c.checked={init:function(e,t,r){n.a.n(e,"click",function(){var i;if("checkbox"==e.type)i=e.checked;else{if("radio"!=e.type||!e.checked)return;i=e.value}var s=t();"checkbox"==e.type&&n.a.d(s)instanceof Array?(i=n.a.j(n.a.d(s),e.value),e.checked&&0>i?s.push(e.value):!e.checked&&0<=i&&s.splice(i,1)):n.g.$(s,r,"checked",i,f)}),"radio"==e.type&&!e.name&&n.c.uniqueName.init(e,h(f))},update:function(e,t){var r=n.a.d(t());"checkbox"==e.type?e.checked=r instanceof Array?0<=n.a.j(r,e.value):r:"radio"==e.type&&(e.checked=e.value==r)}};var d={"class":"className","for":"htmlFor"};n.c.attr={update:function(e,t){var r=n.a.d(t())||{},i;for(i in r)if("string"==typeof i){var s=n.a.d(r[i]),o=s===c||s===l||s===a;o&&e.removeAttribute(i),8>=n.a.ja&&i in d?(i=d[i],o?e.removeAttribute(i):e[i]=s):o||e.setAttribute(i,s.toString())}}},n.c.hasfocus={init:function(e,t,r){function i(e){var i=t();n.g.$(i,r,"hasfocus",e,f)}n.a.n(e,"focus",function(){i(f)}),n.a.n(e,"focusin",function(){i(f)}),n.a.n(e,"blur",function(){i(c)}),n.a.n(e,"focusout",function(){i(c)})},update:function(e,t){var r=n.a.d(t());r?e.focus():e.blur(),n.a.va(e,r?"focusin":"focusout")}},n.c["with"]={p:function(e){return function(){var t=e();return{"if":t,data:t,templateEngine:n.q.K}}},init:function(e,t){return n.c.template.init(e,n.c["with"].p(t))},update:function(e,t,r,i,s){return n.c.template.update(e,n.c["with"].p(t),r,i,s)}},n.g.D["with"]=c,n.e.C["with"]=f,n.c["if"]={p:function(e){return function(){return{"if":e(),templateEngine:n.q.K}}},init:function(e,t){return n.c.template.init(e,n.c["if"].p(t))},update:function(e,t,r,i,s){return n.c.template.update(e,n.c["if"].p(t),r,i,s)}},n.g.D["if"]=c,n.e.C["if"]=f,n.c.ifnot={p:function(e){return function(){return{ifnot:e(),templateEngine:n.q.K}}},init:function(e,t){return n.c.template.init(e,n.c.ifnot.p(t))},update:function(e,t,r,i,s){return n.c.template.update(e,n.c.ifnot.p(t),r,i,s)}},n.g.D.ifnot=c,n.e.C.ifnot=f,n.c.foreach={p:function(e){return function(){var t=n.a.d(e());return!t||"number"==typeof t.length?{foreach:t,templateEngine:n.q.K}:{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:n.q.K}}},init:function(e,t){return n.c.template.init(e,n.c.foreach.p(t))},update:function(e,t,r,i,s){return n.c.template.update(e,n.c.foreach.p(t),r,i,s)}},n.g.D.foreach=c,n.e.C.foreach=f,n.t=function(){},n.t.prototype.renderTemplateSource=function(){u(Error("Override renderTemplateSource"))},n.t.prototype.createJavaScriptEvaluatorBlock=function(){u(Error("Override createJavaScriptEvaluatorBlock"))},n.t.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var t=t||i,r=t.getElementById(e);return r||u(Error("Cannot find template with ID "+e)),new n.l.i(r)}if(1==e.nodeType||8==e.nodeType)return new n.l.M(e);u(Error("Unknown template type: "+e))},n.t.prototype.renderTemplate=function(e,t,n,r){return this.renderTemplateSource(this.makeTemplateSource(e,r),t,n)},n.t.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===c||(!t||t==i)&&this.V&&this.V[e]?f:this.makeTemplateSource(e,t).data("isRewritten")},n.t.prototype.rewriteTemplate=function(e,t,n){var r=this.makeTemplateSource(e,n),t=t(r.text());r.text(t),r.data("isRewritten",f),(!n||n==i)&&"string"==typeof e&&(this.V=this.V||{},this.V[e]=f)},n.b("templateEngine",n.t),n.Z=function(){function e(e,t,r){for(var e=n.g.W(e),i=n.g.D,s=0;s<e.length;s++){var o=e[s].key;if(i.hasOwnProperty(o)){var a=i[o];"function"==typeof a?(o=a(e[s].value))&&u(Error(o)):a||u(Error("This template engine does not support the '"+o+"' binding within its templates"))}}return e="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+n.g.ka(e)+" } })()         })",r.createJavaScriptEvaluatorBlock(e)+t}var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,r=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(e,t,r){t.isTemplateRewritten(e,r)||t.rewriteTemplate(e,function(e){return n.Z.zb(e,t)},r)},zb:function(n,i){return n.replace(t,function(t,n,r,s,o,u,a){return e(a,n,i)}).replace(r,function(t,n){return e(n,"<!-- ko -->",i)})},Za:function(e){return n.s.na(function(t,r){t.nextSibling&&n.ya(t.nextSibling,e,r)})}}}(),n.b("templateRewriting",n.Z),n.b("templateRewriting.applyMemoizedBindingsToNextSibling",n.Z.Za),function(){n.l={},n.l.i=function(e){this.i=e},n.l.i.prototype.text=function(){var e=n.a.o(this.i),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.i[e];var t=arguments[0];"innerHTML"===e?n.a.Y(this.i,t):this.i[e]=t},n.l.i.prototype.data=function(e){if(1===arguments.length)return n.a.f.get(this.i,"templateSourceData_"+e);n.a.f.set(this.i,"templateSourceData_"+e,arguments[1])},n.l.M=function(e){this.i=e},n.l.M.prototype=new n.l.i,n.l.M.prototype.text=function(){if(0==arguments.length){var e=n.a.f.get(this.i,"__ko_anon_template__")||{};return e.ua===a&&e.da&&(e.ua=e.da.innerHTML),e.ua}n.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})},n.l.i.prototype.nodes=function(){if(0==arguments.length)return(n.a.f.get(this.i,"__ko_anon_template__")||{}).da;n.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]})},n.b("templateSources",n.l),n.b("templateSources.domElement",n.l.i),n.b("templateSources.anonymousTemplate",n.l.M)}(),function(){function e(e,t,r){for(var i,t=n.e.nextSibling(t);e&&(i=e)!==t;)e=n.e.nextSibling(i),(1===i.nodeType||8===i.nodeType)&&r(i)}function t(t,r){if(t.length){var i=t[0],s=t[t.length-1];e(i,s,function(e){n.xa(r,e)}),e(i,s,function(e){n.s.Wa(e,[r])})}}function r(e){return e.nodeType?e:0<e.length?e[0]:l}function i(e,i,o,a,l){var l=l||{},h=e&&r(e),h=h&&h.ownerDocument,p=l.templateEngine||s;n.Z.mb(o,p,h),o=p.renderTemplate(o,a,l,h),("number"!=typeof o.length||0<o.length&&"number"!=typeof o[0].nodeType)&&u(Error("Template engine must return an array of DOM nodes")),h=c;switch(i){case"replaceChildren":n.e.X(e,o),h=f;break;case"replaceNode":n.a.Na(e,o),h=f;break;case"ignoreTargetNode":break;default:u(Error("Unknown renderMode: "+i))}return h&&(t(o,a),l.afterRender&&l.afterRender(o,a.$data)),o}var s;n.ra=function(e){e!=a&&!(e instanceof n.t)&&u(Error("templateEngine must inherit from ko.templateEngine")),s=e},n.qa=function(e,t,o,f,c){o=o||{},(o.templateEngine||s)==a&&u(Error("Set a template engine before calling renderTemplate")),c=c||"replaceChildren";if(f){var h=r(f);return n.h(function(){var s=t&&t instanceof n.z?t:new n.z(n.a.d(t)),u="function"==typeof e?e(s.$data):e,s=i(f,c,u,s,o);"replaceNode"==c&&(f=s,h=r(f))},l,{disposeWhen:function(){return!h||!n.a.fa(h)},disposeWhenNodeIsRemoved:h&&"replaceNode"==c?h.parentNode:h})}return n.s.na(function(r){n.qa(e,t,o,r,"replaceNode")})},n.Fb=function(e,r,s,o,u){function f(e,n){t(n,h),s.afterRender&&s.afterRender(n,e)}function c(t,r){var o="function"==typeof e?e(t):e;return h=u.createChildContext(n.a.d(t)),h.$index=r,i(l,"ignoreTargetNode",o,h,s)}var h;return n.h(function(){var e=n.a.d(r)||[];"undefined"==typeof e.length&&(e=[e]),e=n.a.aa(e,function(e){return s.includeDestroyed||e===a||e===l||!n.a.d(e._destroy)}),n.a.Oa(o,e,c,s,f)},l,{disposeWhenNodeIsRemoved:o})},n.c.template={init:function(e,t){var r=n.a.d(t());return"string"!=typeof r&&!r.name&&(1==e.nodeType||8==e.nodeType)&&(r=1==e.nodeType?e.childNodes:n.e.childNodes(e),r=n.a.Ab(r),(new n.l.M(e)).nodes(r)),{controlsDescendantBindings:f}},update:function(e,t,r,i,s){t=n.a.d(t()),i=f,"string"==typeof t?r=t:(r=t.name,"if"in t&&(i=i&&n.a.d(t["if"])),"ifnot"in t&&(i=i&&!n.a.d(t.ifnot)));var o=l;"object"==typeof t&&"foreach"in t?o=n.Fb(r||e,i&&t.foreach||[],t,e,s):i?(s="object"==typeof t&&"data"in t?s.createChildContext(n.a.d(t.data)):s,o=n.qa(r||e,s,t,e)):n.e.ha(e),s=o,(t=n.a.f.get(e,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof t.A&&t.A(),n.a.f.set(e,"__ko__templateSubscriptionDomDataKey__",s)}},n.g.D.template=function(e){return e=n.g.W(e),1==e.length&&e[0].unknown||n.g.wb(e,"name")?l:"This template engine does not support anonymous templates nested within its templates"},n.e.C.template=f}(),n.b("setTemplateEngine",n.ra),n.b("renderTemplate",n.qa),function(){n.a.O=function(e,t,r){if(r===a)return n.a.O(e,t,1)||n.a.O(e,t,10)||n.a.O(e,t,Number.MAX_VALUE);for(var e=e||[],t=t||[],i=e,s=t,o=[],u=0;u<=
s.length;u++)o[u]=[];for(var u=0,f=Math.min(i.length,r);u<=f;u++)o[0][u]=u;u=1;for(f=Math.min(s.length,r);u<=f;u++)o[u][0]=u;for(var f=i.length,c,h=s.length,u=1;u<=f;u++){c=Math.max(1,u-r);for(var p=Math.min(h,u+r);c<=p;c++)o[c][u]=i[u-1]===s[c-1]?o[c-1][u-1]:Math.min(o[c-1][u]===a?Number.MAX_VALUE:o[c-1][u]+1,o[c][u-1]===a?Number.MAX_VALUE:o[c][u-1]+1)}r=e.length,i=t.length,s=[],u=o[i][r];if(u===a)o=l;else{for(;0<r||0<i;){f=o[i][r],h=0<i?o[i-1][r]:u+1,p=0<r?o[i][r-1]:u+1,c=0<i&&0<r?o[i-1][r-1]:u+1;if(h===a||h<f-1)h=u+1;if(p===a||p<f-1)p=u+1;c<f-1&&(c=u+1),h<=p&&h<c?(s.push({status:"added",value:t[i-1]}),i--):(p<h&&p<c?s.push({status:"deleted",value:e[r-1]}):(s.push({status:"retained",value:e[r-1]}),i--),r--)}o=s.reverse()}return o}}(),n.b("utils.compareArrays",n.a.O),function(){function e(e){if(2<e.length){for(var t=e[0],n=e[e.length-1],r=[t];t!==n;){t=t.nextSibling;if(!t)return;r.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(r))}}function t(t,r,i,s,o){var u=[],t=n.h(function(){var t=r(i,o)||[];0<u.length&&(e(u),n.a.Na(u,t),s&&s(i,t)),u.splice(0,u.length),n.a.N(u,t)},l,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return 0==u.length||!n.a.fa(u[0])}});return{xb:u,h:t}}n.a.Oa=function(r,i,s,o,u){for(var i=i||[],o=o||{},h=n.a.f.get(r,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===a,p=n.a.f.get(r,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],d=n.a.T(p,function(e){return e.$a}),v=n.a.O(d,i),i=[],m=0,g=[],y=0,d=[],w=l,E=0,S=v.length;E<S;E++)switch(v[E].status){case"retained":var x=p[m];x.qb(y),y=i.push(x),0<x.P.length&&(w=x.P[x.P.length-1]),m++;break;case"deleted":p[m].h.A(),e(p[m].P),n.a.v(p[m].P,function(e){g.push({element:e,index:E,value:v[E].value}),w=e}),m++;break;case"added":for(var x=v[E].value,T=n.m(y),y=t(r,s,x,u,T),N=y.xb,y=i.push({$a:v[E].value,P:N,h:y.h,qb:T}),C=0,k=N.length;C<k;C++){var L=N[C];d.push({element:L,index:E,value:v[E].value}),w==l?n.e.Ka(r,L):n.e.Fa(r,L,w),w=L}u&&u(x,N,T)}n.a.v(g,function(e){n.F(e.element)}),s=c;if(!h){if(o.afterAdd)for(E=0;E<d.length;E++)o.afterAdd(d[E].element,d[E].index,d[E].value);if(o.beforeRemove){for(E=0;E<g.length;E++)o.beforeRemove(g[E].element,g[E].index,g[E].value);s=f}}if(!s&&g.length)for(E=0;E<g.length;E++)o=g[E].element,o.parentNode&&o.parentNode.removeChild(o);n.a.f.set(r,"setDomNodeChildrenFromArrayMapping_lastMappingResult",i)}}(),n.b("utils.setDomNodeChildrenFromArrayMapping",n.a.Oa),n.q=function(){this.allowTemplateRewriting=c},n.q.prototype=new n.t,n.q.prototype.renderTemplateSource=function(e){var t=9>n.a.ja||!e.nodes?l:e.nodes();return t?n.a.L(t.cloneNode(f).childNodes):(e=e.text(),n.a.pa(e))},n.q.K=new n.q,n.ra(n.q.K),n.b("nativeTemplateEngine",n.q),function(){n.ma=function(){var e=this.vb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,r){r=r||{},2>e&&u(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var s=t.data("precompiled");return s||(s=t.text()||"",s=jQuery.template(l,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),t.data("precompiled",s)),t=[n.$data],n=jQuery.extend({koBindingContext:n},r.templateOptions),n=jQuery.tmpl(s,t,n),n.appendTo(i.createElement("div")),jQuery.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){i.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},0<e&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},n.ma.prototype=new n.t;var e=new n.ma;0<e.vb&&n.ra(e),n.b("jqueryTmplTemplateEngine",n.ma)}()}var a=void 0,f=!0,l=null,c=!1;"function"==typeof e&&"object"==typeof n&&"object"==typeof t?p(t.exports||n):"function"==typeof define&&define.amd?define(["exports"],p):p(r.ko={}),f})(window,document,navigator)}),require.define("/viewmodels/search.js",function(e,t,n,r,i,s){var o=e("domready"),u=e("shoe"),a=e("dnode"),f=e("knockout-client");o(function(){function i(e){this.url=f.observable("/id/"+e.id),this.thumb=f.observable(e.thumb),this.title=f.observable(e.title),this.seconds=f.observable(e.seconds)}function s(){var e=this;e.terms=f.observable(),e.results=f.observableArray([]),e.search=function(){n.ytvsearch(e.terms(),1,5,function(t){for(var n in t)e.results.push(new i(t[n]))})}}var e=u("/dnode"),t=a(),n,r;t.on("remote",function(e){e.subscribe({type:"rc"},function(){n=e})}),t.pipe(e).pipe(t),r=new s,f.applyBindings(r)})}),require("/viewmodels/search.js")})();